[
    %% FLURM Controller Configuration
    {flurm_controller, [
        {listen_port, 6817},
        {node_listen_port, 6819},  %% Port for node daemon connections (6818 used by Docker)
        {listen_address, "0.0.0.0"},
        %% Cluster configuration for high availability
        %% Set cluster_nodes to multiple nodes to enable cluster mode
        %% Example: ['flurm@ctrl1', 'flurm@ctrl2', 'flurm@ctrl3']
        {cluster_name, flurm},
        {cluster_nodes, []},
        {ra_data_dir, "/var/lib/flurm/ra"},
        %% Cluster timeouts (milliseconds)
        {leader_check_interval, 1000},
        {forward_timeout, 5000},
        {election_timeout, 5000}
    ]},

    %% FLURM Node Daemon Configuration
    {flurm_node_daemon, [
        {controller_host, "localhost"},
        {controller_port, 6819},  %% Must match node_listen_port above
        {heartbeat_interval, 10000}
    ]},

    %% FLURM Database Configuration
    {flurm_db, [
        {data_dir, "/var/lib/flurm/db"},
        {cluster_name, flurm_cluster}
    ]},

    %% FLURM Config
    {flurm_config, [
        {config_file, "/etc/flurm/flurm.conf"}
    ]},

    %% Ra Configuration (Raft consensus)
    {ra, [
        {data_dir, "/var/lib/flurm/ra"}
    ]},

    %% Lager Logging Configuration
    {lager, [
        {handlers, [
            {lager_console_backend, [{level, info}]},
            {lager_file_backend, [
                {file, "/var/log/flurm/error.log"},
                {level, error}
            ]},
            {lager_file_backend, [
                {file, "/var/log/flurm/console.log"},
                {level, info}
            ]}
        ]},
        {error_logger_redirect, true},
        {error_logger_whitelist, [logger]},
        {crash_log, "/var/log/flurm/crash.log"},
        {crash_log_msg_size, 65536},
        {crash_log_size, 10485760},
        {crash_log_date, "$D0"},
        {crash_log_count, 5}
    ]},

    %% SASL Configuration
    {sasl, [
        {sasl_error_logger, false}
    ]},

    %% Kernel Configuration
    {kernel, [
        {logger_level, info}
    ]}
].
