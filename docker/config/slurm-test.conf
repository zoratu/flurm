# SLURM Configuration for Comprehensive Testing
# Used by the SLURM controller/node in docker-compose.comprehensive-test.yml

ClusterName=slurm-cluster
SlurmctldHost=slurm-controller

# Ports
SlurmctldPort=6817
SlurmdPort=6818

# Authentication
AuthType=auth/munge
CryptoType=crypto/munge

# Directories
SlurmdSpoolDir=/var/spool/slurmd
SlurmctldPidFile=/var/run/slurm/slurmctld.pid
SlurmdPidFile=/var/run/slurm/slurmd.pid
StateSaveLocation=/var/spool/slurmctld
SlurmdLogFile=/var/log/slurm/slurmd.log
SlurmctldLogFile=/var/log/slurm/slurmctld.log

# User
SlurmUser=slurm
SlurmdUser=root

# Scheduling
SchedulerType=sched/backfill
SelectType=select/cons_tres
SelectTypeParameters=CR_Core

# Process tracking - use pgid for Docker compatibility
ProctrackType=proctrack/pgid
TaskPlugin=task/none

# Return to service after node recovery
ReturnToService=2

# Switch type
SwitchType=switch/none

# MPI
MpiDefault=none

# Logging
SlurmdDebug=info
SlurmctldDebug=info

# Job handling
CompleteWait=5
KillWait=30
MinJobAge=300
OverTimeLimit=0

# Node definitions (single SLURM node for migration testing)
NodeName=slurm-node CPUs=4 RealMemory=8192 State=UNKNOWN

# Partition definitions
PartitionName=debug Nodes=slurm-node Default=YES MaxTime=00:30:00 State=UP
PartitionName=batch Nodes=slurm-node MaxTime=24:00:00 State=UP
