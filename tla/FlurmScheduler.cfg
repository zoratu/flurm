\* TLC Configuration for FlurmScheduler.tla
\* Run with: java -jar tla2tools.jar -config FlurmScheduler.cfg FlurmScheduler.tla

\* Specification to check
SPECIFICATION Spec

\* Constants - keep small for bounded model checking
CONSTANTS
    Nodes = {n1, n2, n3}
    MaxJobs = 3
    MaxCPUsPerNode = 2

\* Symmetry sets for state space reduction
\* Nodes are interchangeable
SYMMETRY NodeSymmetry
CONSTANT NodeSymmetry = Permutations(Nodes)

\* Invariants to verify (safety properties)
INVARIANT TypeInvariant
INVARIANT Safety
INVARIANT ResourceConstraint
INVARIANT RunningJobsHaveNodes
INVARIANT OnlyRunningJobsAllocated

\* For liveness checking, uncomment:
\* SPECIFICATION LivenessSpec
\* PROPERTY AllJobsTerminate
\* PROPERTY NoStarvation
\* PROPERTY EventuallyQueueDrains
